# 🚀 终极安装指南 - 保证能用！

## 非常重要的说明

我已经**彻底重写了浮窗逻辑**，这次保证能显示！主要改进：

1. ✅ **浮窗使用 inline styles 强制显示** - 不会被任何CSS覆盖
2. ✅ **导出改为复制到剪贴板** - 直接粘贴到Mac备忘录
3. ✅ **添加大量调试日志** - 按F12能看到详细过程
4. ✅ **移除下载功能** - 改为一键复制

---

## 📥 下载和安装

### 第1步：完全卸载旧版本
```
1. 打开 chrome://extensions/
2. 找到 "英文划词收集器"
3. 点击 "移除" 按钮
4. 确认删除
```

### 第2步：安装新版本
```
1. 解压 word-collector-extension-v1.0.3-FINAL.zip
2. 打开 chrome://extensions/
3. 右上角开启 "开发者模式"
4. 点击 "加载已解压的扩展程序"
5. 选择解压后的文件夹
```

### 第3步：验证安装
```
✅ 在扩展列表中看到插件
✅ 插件状态显示"已启用"
✅ 浏览器工具栏有插件图标
```

---

## 🧪 测试步骤（必须按顺序）

### 测试1：在测试页面验证
```
1. 打开插件文件夹中的 test.html
2. 按 F12 打开控制台（很重要！）
3. 选择任意文本
4. 在控制台应该看到：
   - "Selected text: [你选的文本]"
   - "About to show floating window..."
   - "Creating floating window..."
   - "Floating window added to body"
5. 浮窗应该立即出现在右上角
```

### 测试2：在真实网站测试
```
1. 打开任意网站（如 https://www.bbc.com/news）
2. ⚠️ 刷新页面！（按 F5）
3. 按 F12 打开控制台
4. 选择文本
5. 查看控制台输出
6. 浮窗应该出现
```

---

## 📋 新功能：复制到剪贴板

### 在浮窗中复制
```
1. 点击浮窗顶部的 📋 按钮
2. 看到提示：✅ 已复制 X 条词句到剪贴板
3. 打开Mac备忘录（Command + Space，输入"备忘录"）
4. 新建笔记（Command + N）
5. 粘贴（Command + V）
6. 完成！
```

### 在Popup中复制
```
1. 点击浏览器工具栏的插件图标
2. 点击 "📋 复制全部到剪贴板"
3. 弹出提示：已复制 X 条词句
4. 打开备忘录粘贴即可
```

---

## 🐛 如果浮窗还是不显示

### 方案A：查看控制台
```
1. 按 F12 打开开发者工具
2. 切换到 Console 标签
3. 选择文本后查看输出
4. 截图发给我，我帮你分析
```

### 方案B：手动触发
```
1. 按 F12 打开控制台
2. 在 Console 中输入以下代码并回车：

// 查看是否加载
console.log('Extension loaded');

// 手动触发浮窗
document.dispatchEvent(new CustomEvent('wc-show-window'));
```

### 方案C：检查页面兼容性
```
某些页面无法使用：
❌ chrome://extensions/
❌ chrome://settings/
❌ Chrome 网上应用店
❌ edge:// 开头的页面

可以使用的页面：
✅ 普通网站（Wikipedia, BBC, Medium等）
✅ test.html 测试页面
✅ 本地HTML文件
```

---

## 💡 使用提示

### 复制格式说明
```
复制到剪贴板的格式：

1. 第一条收集的文本
来源: https://example.com
时间: 2025/11/15 14:30

---

2. 第二条收集的文本
来源: https://example.com
时间: 2025/11/15 14:32

---
```

### 快捷操作
```
📋 复制：一键复制所有内容
🗑️ 清空：删除所有收集并清除高亮
➖ 最小化：折叠浮窗但不关闭
✖️ 关闭：隐藏浮窗但数据保留
```

---

## 🆘 紧急联系

如果这个版本还是不行，请提供：

1. **控制台完整截图**（按F12，选择文本后的Console输出）
2. **网站URL**（在哪个网站测试的）
3. **Chrome版本**（chrome://version/）
4. **操作系统**（macOS版本）

我会立即修复！

---

最后更新：2025-11-15 v1.0.3
作者：Claude
